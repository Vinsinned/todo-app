{"ast":null,"code":"var _jsxFileName = \"/home/vinsinned/todo-app/client/src/components/date-picker/year.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getYear, newDate } from \"./date_utils\";\nimport * as utils from \"./date_utils\";\nimport classnames from \"classnames\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Year extends React.Component {\n  constructor(props) {\n    super(props);\n    this.YEAR_REFS = [...Array(this.props.yearItemNumber)].map(() => /*#__PURE__*/React.createRef());\n\n    this.isDisabled = date => utils.isDayDisabled(date, this.props);\n\n    this.isExcluded = date => utils.isDayExcluded(date, this.props);\n\n    this.updateFocusOnPaginate = refIndex => {\n      const waitForReRender = function () {\n        this.YEAR_REFS[refIndex].current.focus();\n      }.bind(this);\n\n      window.requestAnimationFrame(waitForReRender);\n    };\n\n    this.handleYearClick = (day, event) => {\n      if (this.props.onDayClick) {\n        this.props.onDayClick(day, event);\n      }\n    };\n\n    this.handleYearNavigation = (newYear, newDate) => {\n      const {\n        date,\n        yearItemNumber\n      } = this.props;\n      const {\n        startPeriod\n      } = utils.getYearsPeriod(date, yearItemNumber);\n      if (this.isDisabled(newDate) || this.isExcluded(newDate)) return;\n      this.props.setPreSelection(newDate);\n\n      if (newYear - startPeriod === -1) {\n        this.updateFocusOnPaginate(yearItemNumber - 1);\n      } else if (newYear - startPeriod === yearItemNumber) {\n        this.updateFocusOnPaginate(0);\n      } else this.YEAR_REFS[newYear - startPeriod].current.focus();\n    };\n\n    this.isSameDay = (y, other) => utils.isSameDay(y, other);\n\n    this.isCurrentYear = y => y === getYear(newDate());\n\n    this.isKeyboardSelected = y => {\n      const date = utils.getStartOfYear(utils.setYear(this.props.date, y));\n      return !this.props.disabledKeyboardNavigation && !this.props.inline && !utils.isSameDay(date, utils.getStartOfYear(this.props.selected)) && utils.isSameDay(date, utils.getStartOfYear(this.props.preSelection));\n    };\n\n    this.onYearClick = (e, y) => {\n      const {\n        date\n      } = this.props;\n      this.handleYearClick(utils.getStartOfYear(utils.setYear(date, y)), e);\n    };\n\n    this.onYearKeyDown = (e, y) => {\n      const {\n        key\n      } = e;\n\n      if (!this.props.disabledKeyboardNavigation) {\n        switch (key) {\n          case \"Enter\":\n            this.onYearClick(e, y);\n            this.props.setPreSelection(this.props.selected);\n            break;\n\n          case \"ArrowRight\":\n            this.handleYearNavigation(y + 1, utils.addYears(this.props.preSelection, 1));\n            break;\n\n          case \"ArrowLeft\":\n            this.handleYearNavigation(y - 1, utils.subYears(this.props.preSelection, 1));\n            break;\n        }\n      }\n    };\n\n    this.getYearClassNames = y => {\n      const {\n        minDate,\n        maxDate,\n        selected\n      } = this.props;\n      return classnames(\"react-datepicker__year-text\", {\n        \"react-datepicker__year-text--selected\": y === getYear(selected),\n        \"react-datepicker__year-text--disabled\": (minDate || maxDate) && utils.isYearDisabled(y, this.props),\n        \"react-datepicker__year-text--keyboard-selected\": this.isKeyboardSelected(y),\n        \"react-datepicker__year-text--today\": this.isCurrentYear(y)\n      });\n    };\n\n    this.getYearTabIndex = y => {\n      if (this.props.disabledKeyboardNavigation) return \"-1\";\n      const preSelected = utils.getYear(this.props.preSelection);\n      return y === preSelected ? \"0\" : \"-1\";\n    };\n  }\n\n  render() {\n    const yearsList = [];\n    const {\n      date,\n      yearItemNumber\n    } = this.props;\n    const {\n      startPeriod,\n      endPeriod\n    } = utils.getYearsPeriod(date, yearItemNumber);\n\n    for (let y = startPeriod; y <= endPeriod; y++) {\n      yearsList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: this.YEAR_REFS[y - startPeriod],\n        onClick: ev => {\n          this.onYearClick(ev, y);\n        },\n        onKeyDown: ev => {\n          this.onYearKeyDown(ev, y);\n        },\n        tabIndex: this.getYearTabIndex(y),\n        className: this.getYearClassNames(y),\n        \"aria-current\": this.isCurrentYear(y) ? \"date\" : undefined,\n        children: y\n      }, y, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"react-datepicker__year\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"react-datepicker__year-wrapper\",\n        children: yearsList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nYear.propTypes = {\n  date: PropTypes.string,\n  disabledKeyboardNavigation: PropTypes.bool,\n  onDayClick: PropTypes.func,\n  preSelection: PropTypes.instanceOf(Date),\n  setPreSelection: PropTypes.func,\n  selected: PropTypes.object,\n  inline: PropTypes.bool,\n  maxDate: PropTypes.instanceOf(Date),\n  minDate: PropTypes.instanceOf(Date),\n  yearItemNumber: PropTypes.number\n};","map":{"version":3,"names":["React","PropTypes","getYear","newDate","utils","classnames","Year","Component","constructor","props","YEAR_REFS","Array","yearItemNumber","map","createRef","isDisabled","date","isDayDisabled","isExcluded","isDayExcluded","updateFocusOnPaginate","refIndex","waitForReRender","current","focus","bind","window","requestAnimationFrame","handleYearClick","day","event","onDayClick","handleYearNavigation","newYear","startPeriod","getYearsPeriod","setPreSelection","isSameDay","y","other","isCurrentYear","isKeyboardSelected","getStartOfYear","setYear","disabledKeyboardNavigation","inline","selected","preSelection","onYearClick","e","onYearKeyDown","key","addYears","subYears","getYearClassNames","minDate","maxDate","isYearDisabled","getYearTabIndex","preSelected","render","yearsList","endPeriod","push","ev","undefined","propTypes","string","bool","func","instanceOf","Date","object","number"],"sources":["/home/vinsinned/todo-app/client/src/components/date-picker/year.jsx"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getYear, newDate } from \"./date_utils\";\nimport * as utils from \"./date_utils\";\nimport classnames from \"classnames\";\n\nexport default class Year extends React.Component {\n  static propTypes = {\n    date: PropTypes.string,\n    disabledKeyboardNavigation: PropTypes.bool,\n    onDayClick: PropTypes.func,\n    preSelection: PropTypes.instanceOf(Date),\n    setPreSelection: PropTypes.func,\n    selected: PropTypes.object,\n    inline: PropTypes.bool,\n    maxDate: PropTypes.instanceOf(Date),\n    minDate: PropTypes.instanceOf(Date),\n    yearItemNumber: PropTypes.number,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  YEAR_REFS = [...Array(this.props.yearItemNumber)].map(() =>\n    React.createRef()\n  );\n\n  isDisabled = (date) => utils.isDayDisabled(date, this.props);\n\n  isExcluded = (date) => utils.isDayExcluded(date, this.props);\n\n  updateFocusOnPaginate = (refIndex) => {\n    const waitForReRender = function () {\n      this.YEAR_REFS[refIndex].current.focus();\n    }.bind(this);\n\n    window.requestAnimationFrame(waitForReRender);\n  };\n\n  handleYearClick = (day, event) => {\n    if (this.props.onDayClick) {\n      this.props.onDayClick(day, event);\n    }\n  };\n\n  handleYearNavigation = (newYear, newDate) => {\n    const { date, yearItemNumber } = this.props;\n    const { startPeriod } = utils.getYearsPeriod(date, yearItemNumber);\n\n    if (this.isDisabled(newDate) || this.isExcluded(newDate)) return;\n    this.props.setPreSelection(newDate);\n\n    if (newYear - startPeriod === -1) {\n      this.updateFocusOnPaginate(yearItemNumber - 1);\n    } else if (newYear - startPeriod === yearItemNumber) {\n      this.updateFocusOnPaginate(0);\n    } else this.YEAR_REFS[newYear - startPeriod].current.focus();\n  };\n\n  isSameDay = (y, other) => utils.isSameDay(y, other);\n\n  isCurrentYear = (y) => y === getYear(newDate());\n\n  isKeyboardSelected = (y) => {\n    const date = utils.getStartOfYear(utils.setYear(this.props.date, y));\n    return (\n      !this.props.disabledKeyboardNavigation &&\n      !this.props.inline &&\n      !utils.isSameDay(date, utils.getStartOfYear(this.props.selected)) &&\n      utils.isSameDay(date, utils.getStartOfYear(this.props.preSelection))\n    );\n  };\n\n  onYearClick = (e, y) => {\n    const { date } = this.props;\n    this.handleYearClick(utils.getStartOfYear(utils.setYear(date, y)), e);\n  };\n\n  onYearKeyDown = (e, y) => {\n    const { key } = e;\n    if (!this.props.disabledKeyboardNavigation) {\n      switch (key) {\n        case \"Enter\":\n          this.onYearClick(e, y);\n          this.props.setPreSelection(this.props.selected);\n          break;\n        case \"ArrowRight\":\n          this.handleYearNavigation(\n            y + 1,\n            utils.addYears(this.props.preSelection, 1)\n          );\n          break;\n        case \"ArrowLeft\":\n          this.handleYearNavigation(\n            y - 1,\n            utils.subYears(this.props.preSelection, 1)\n          );\n          break;\n      }\n    }\n  };\n\n  getYearClassNames = (y) => {\n    const { minDate, maxDate, selected } = this.props;\n    return classnames(\"react-datepicker__year-text\", {\n      \"react-datepicker__year-text--selected\": y === getYear(selected),\n      \"react-datepicker__year-text--disabled\":\n        (minDate || maxDate) && utils.isYearDisabled(y, this.props),\n      \"react-datepicker__year-text--keyboard-selected\":\n        this.isKeyboardSelected(y),\n      \"react-datepicker__year-text--today\": this.isCurrentYear(y),\n    });\n  };\n\n  getYearTabIndex = (y) => {\n    if (this.props.disabledKeyboardNavigation) return \"-1\";\n    const preSelected = utils.getYear(this.props.preSelection);\n\n    return y === preSelected ? \"0\" : \"-1\";\n  };\n\n  render() {\n    const yearsList = [];\n    const { date, yearItemNumber } = this.props;\n    const { startPeriod, endPeriod } = utils.getYearsPeriod(\n      date,\n      yearItemNumber\n    );\n\n    for (let y = startPeriod; y <= endPeriod; y++) {\n      yearsList.push(\n        <div\n          ref={this.YEAR_REFS[y - startPeriod]}\n          onClick={(ev) => {\n            this.onYearClick(ev, y);\n          }}\n          onKeyDown={(ev) => {\n            this.onYearKeyDown(ev, y);\n          }}\n          tabIndex={this.getYearTabIndex(y)}\n          className={this.getYearClassNames(y)}\n          key={y}\n          aria-current={this.isCurrentYear(y) ? \"date\" : undefined}\n        >\n          {y}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"react-datepicker__year\">\n        <div className=\"react-datepicker__year-wrapper\">{yearsList}</div>\n      </div>\n    );\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}